<button
  mat-icon-button
  [matMenuTriggerFor]="menu"
  aria-label="Example icon-button with a menu"
  (click)="getNotifications()"
  (menuOpened)="menuOpened()"
>
  <mat-icon [matBadge]="badgeContent" matBadgeColor="warn" matBadgeSize="small"
    >notifications</mat-icon
  >
</button>
<mat-menu #menu="matMenu" class="notifications">
  <div *ngIf="showSpinner === true; then spinner; else data">
    here is ignored
  </div>
  <ng-template #spinner>
    <div class="spinner-design">
      <mat-spinner [diameter]="20"></mat-spinner>
    </div>
  </ng-template>
  <ng-template #data>
    <!-- <p class="notification-title">New</p> -->
    <button
      mat-menu-item
      *ngFor="let item of notifications"
      (click)="openTicketDetails(item['id'])"
      [ngClass]="
        item['seen'] === true
          ? 'notification-item-container'
          : 'notification-item-container-unseen'
      "
    >
      <div style="width: 100%">
        <span style="display: flex; flex-direction: row">
          <mat-icon style="padding-top: 0.7rem"> mail_outline</mat-icon>
          <p style="height: 1.7rem; margin-bottom: 0px">
            {{ item["text"] }}
          </p>
        </span>

        <span
          style="
            display: flex;
            flex-direction: row;
            justify-content: space-between;
          "
          ><p style="opacity: 0.5">{{ item["dateDiff"] }} days ago</p>

          <p style="color: #c4161c">
            {{ item["date"] }}
          </p></span
        >
      </div>
    </button>
    <!-- <p class="notification-title">Earlier</p> -->
    <!-- <button
      mat-menu-item
      *ngFor="let item of notifications"
      (click)="openTicketDetails(item['id'])"
      style="padding-bottom: 5rem"
    >
      <div class="notification-item-container">
        <span style="display: flex; flex-direction: row">
          <mat-icon style="padding-top: 0.7rem"> mail_outline</mat-icon>
          <p style="height: 1.7rem; margin-bottom: 0px">
            {{ item["text"] }}
          </p>
        </span>

        <span
          style="
            display: flex;
            flex-direction: row;
            justify-content: space-between;
          "
          ><p style="opacity: 0.5">{{ item["dateDiff"] }} days ago</p>

          <p style="color: #c4161c">
            {{ item["date"] }}
          </p></span
        >
      </div>
    </button> -->
    <div *ngIf="createloader === true; then spinner; else btn"></div>
    <ng-template #spinner>
      <mat-spinner
        color="warn"
        [diameter]="30"
        style="margin-left: 45%"
      ></mat-spinner>
    </ng-template>
    <ng-template #btn>
      <div (click)="loadMoreNotifications($event)" class="btn-More-Noticiation">
        <mat-icon>expand_more</mat-icon>
      </div></ng-template
    >
  </ng-template>
</mat-menu>
